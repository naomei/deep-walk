(()=>{var c=t=>Array.isArray(t),y=t=>(typeof t=="object"||typeof t=="function")&&t!==null,f=t=>c(t)?!t.length:!Object.keys(t).length,p=()=>{let t=[];return{on:e=>{t.push(e)},off:()=>{t=[]},emit:e=>{t.forEach(r=>r(e))}}},b=t=>{let e=!0,r=p(),i=o=>{let n=!c(o)&&!y(o),a=f(o)||n;if(r.emit({isRoot:e,isNotRoot:!e,isLeaf:n,isNotLeaf:!n,value:o}),a)return;if(e=!1,c(o)){o.map(s=>i(s));return}Object.keys(o).forEach(s=>{i(o[s])})};return{each:o=>{r.on(o),i(t),r.off()},reduce:(o,n)=>{let a=n;return r.on(s=>{o(s,a)}),i(t),r.off(),a}}};})();
